"use strict";require("./views/db/mongoose");var userRouter=require("./routers/user"),expressValidator=require("express-validator"),bodyParser=require("body-parser"),express=require("express"),flash=require("connect-flash"),app=express(),port=process.env.PORT||3e3;app.set("view engine","pug"),app.use(express.static("".concat(__dirname,"/public"))),app.use(flash()),app.use(bodyParser.urlencoded({extended:!0})),app.use(expressValidator({errorFormatter:function(e,r,s){for(var p=e.split("."),a=p.shift();p.length;)a+="["+p.shift()+"]";return{param:a,msg:r,value:s}}})),app.use(express.json()),app.use(userRouter),app.get("/",function(e,r){r.render("index")}),app.listen(port,function(){return console.log("Server is up on port: ".concat(port))});