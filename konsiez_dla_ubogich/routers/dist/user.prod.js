"use strict";var express=require("express"),router=new express.Router,User=require("../models/user");router.get("/users/register",function(e,r){r.render("register")}),router.post("/users/register",function(r,s){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new User(r.body),e.prev=1,e.next=4,regeneratorRuntime.awrap(t.save());case 4:s.status(201).redirect("/users/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),n=e.t0.message.substring(23,e.t0.message.length).split(",").map(function(e){return e.substring(e.indexOf(":")+1,e.length)}),s.render("register",{errors:n});case 11:case"end":return e.stop()}},null,null,[[1,7]])}),router.get("/users/login",function(e,r){r.render("login")}),module.exports=router;